evaluationDependsOn("$parent.path")

javadoc {
    title "Koloboke Collections $version API"
    configure((CoreJavadocOptions) getOptions()) {
        links("http://jsr-305.googlecode.com/svn/trunk/javadoc/",
                "http://docs.oracle.com/javase/$libTargetJava/docs/api/")
        overview "$buildDir/generated-src/jpsg/main/java/overview.html"
        addStringOption('sourcepath', project.hasProperty('jdkSrc') ? jdkSrc :
                "$System.env.JAVA_HOME/src")
        if (libTargetJava == '8')
            // to suppress warnings in JDK sources
            addStringOption('tag', 'implSpec')
        addStringOption('noqualifier', 'java.lang:java.util')
    }
    executable = project.hasProperty('javadocExecutable') ? javadocExecutable : null
}

task javadocJar(type: Jar) {
    classifier 'javadoc'
    from javadoc
}

artifacts{
    archives javadocJar
}